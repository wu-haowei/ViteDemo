import{d as y,_ as S,u as I,c as w,w as V,r as M,o as c,a as p,b as o,e as r,v as T,f as t,g as h,h as x,F as L,i as N,j as f,k as g,l as U,n as A,t as B,m as F,p as _,q as K,s as R}from"./index-OHs0j8ym.js";const b={all:function(l){return l},active:function(l){return l.filter(function(n){return!n.done})},completed:function(l){return l.filter(function(n){return n.done})}},E=l=>({id:new Date().getTime(),message:l,done:!1}),J=(l="todo")=>y(l,{state:()=>({input:"",items:[],filter:"all",editTarget:null}),getters:{itemsIndexMap(){return this.items.reduce((n,e,u)=>(n[e.id]=u,n),{})},allDoneStatus(){return this.doneCount>0&&this.doneCount===this.items.length},doneCount(){return this.items.reduce((n,e)=>(e.done&&n++,n),0)},displayItems(){return b[this.filter](this.items)}},actions:{add(){if(!this.input)return!1;this.items.push(E(this.input)),this.input=""},remove(n){const e=this.itemsIndexMap[n];this.items.splice(e,1)},removeCompleted(){this.items=b.active(this.items)},toggleAllDone(){const n=!this.allDoneStatus;this.items.forEach(e=>{e.done=n})},edit(n){this.editTarget=JSON.parse(JSON.stringify(this.items[this.itemsIndexMap[n]]))},editDone(){this.items[this.itemsIndexMap[this.editTarget.id]].message=this.editTarget.message,this.editCancel()},editCancel(){this.editTarget=null}}})(),v=l=>(K("data-v-f5171130"),l=l(),R(),l),O={class:"todoapp"},$={class:"header"},j=v(()=>o("h1",null,"todos",-1)),q={class:"main"},z=["disabled"],P=v(()=>o("label",{for:"toggle-all"},"Mark all as complete",-1)),W={class:"todo-list"},G=["onDblclick"],H={class:"view"},Q=["onUpdate:modelValue"],X=["onClick"],Y={class:"footer"},Z=v(()=>o("span",{class:"todo-count"},null,-1)),ee={class:"filters"},te={__name:"ToDoList",setup(l){const n=I(),e=J(),u={mounted(d){d.focus()}},C=w({get(){return e.allDoneStatus},set(d){e.toggleAllDone()}});return V(n,d=>{const s=d.params.filter||"all";e.filter=s}),(d,s)=>{const m=M("RouterLink");return c(),p("section",O,[o("header",$,[j,r(o("input",{class:"new-todo",placeholder:"What needs to be done?","onUpdate:modelValue":s[0]||(s[0]=i=>t(e).input=i),onKeyup:s[1]||(s[1]=h((...i)=>t(e).add&&t(e).add(...i),["enter"]))},null,544),[[u],[T,t(e).input,void 0,{trim:!0}]])]),o("section",q,[r(o("input",{id:"toggle-all",class:"toggle-all",type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=i=>C.value=i),disabled:t(e).items.length===0},null,8,z),[[x,C.value]]),P,o("ul",W,[(c(!0),p(L,null,N(t(e).displayItems,(i,se)=>{var D,k;return c(),p("li",{key:i.id,class:A({completed:i.done,editing:((D=t(e).editTarget)==null?void 0:D.id)===i.id}),onDblclick:a=>t(e).edit(i.id)},[o("div",H,[r(o("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":a=>i.done=a},null,8,Q),[[x,i.done]]),o("label",null,B(i.message),1),o("button",{class:"destroy",onClick:a=>t(e).remove(i.id)},null,8,X)]),((k=t(e).editTarget)==null?void 0:k.id)===i.id?r((c(),p("input",{key:0,class:"edit","onUpdate:modelValue":s[3]||(s[3]=a=>t(e).editTarget.message=a),onKeyup:[s[4]||(s[4]=h((...a)=>t(e).editDone&&t(e).editDone(...a),["enter"])),s[5]||(s[5]=h((...a)=>t(e).editCancel&&t(e).editCancel(...a),["esc"]))],onBlur:s[6]||(s[6]=(...a)=>t(e).editCancel&&t(e).editCancel(...a))},null,544)),[[u],[T,t(e).editTarget.message]]):F("",!0)],42,G)}),128))])]),o("footer",Y,[Z,o("ul",ee,[o("li",null,[f(m,{to:"/ToDoList"},{default:g(()=>[_("All")]),_:1})]),o("li",null,[f(m,{to:"/active"},{default:g(()=>[_("Active")]),_:1})]),o("li",null,[f(m,{to:"/completed"},{default:g(()=>[_("Completed")]),_:1})])]),r(o("button",{class:"clear-completed",onClick:s[7]||(s[7]=(...i)=>t(e).removeCompleted&&t(e).removeCompleted(...i))}," Clear completed ",512),[[U,t(e).doneCount>0]])])])}}},ne=S(te,[["__scopeId","data-v-f5171130"]]);export{ne as default};
