import{o as s,a as l,b as d,_ as u,x as m,j as h,q as c,s as f}from"./index-MKLqaeYq.js";const p=["value"],_={__name:"InputBar",props:["modelValue"],emits:["update:modelValue"],setup(t,{emit:e}){const o=t,a=e;return(i,n)=>(s(),l("div",null,[d("input",{type:"text",value:o.modelValue,onInput:n[0]||(n[0]=r=>a("update:modelValue",r.target.value))},null,40,p)]))}},g={name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:200},backgroundColorMax:{type:Number,default:220},dotColorMin:{type:Number,default:60},dotColorMax:{type:Number,default:120},contentWidth:{type:Number,default:116},contentHeight:{type:Number,default:38}},methods:{changenum(){this.$emit("clickpic-emit")},randomNum(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor(t,e){let o=this.randomNum(t,e),a=this.randomNum(t,e),i=this.randomNum(t,e);return"rgb("+o+","+a+","+i+")"},drawPic(){let e=document.getElementById("s-canvas").getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(let o=0;o<this.identifyCode.length;o++)this.drawText(e,this.identifyCode[o],o);this.drawLine(e),this.drawDot(e)},drawText(t,e,o){t.fillStyle=this.randomColor(50,160),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";let a=(o+1)*(this.contentWidth/(this.identifyCode.length+1)),i=this.randomNum(this.fontSizeMax,this.contentHeight-5);var n=this.randomNum(-30,30);t.translate(a,i),t.rotate(n*Math.PI/180),t.fillText(e,0,0),t.rotate(-n*Math.PI/180),t.translate(-a,-i)},drawLine(t){for(let e=0;e<4;e++)t.strokeStyle=this.randomColor(100,200),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot(t){for(let e=0;e<30;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode(){this.drawPic()}},mounted(){this.drawPic()}},y={class:"s-canvas"},N=["width","height"];function v(t,e,o,a,i,n){return s(),l("div",y,[d("canvas",{id:"s-canvas",width:o.contentWidth,height:o.contentHeight,onClick:e[0]||(e[0]=(...r)=>n.changenum&&n.changenum(...r))},null,8,N)])}const C=u(g,[["render",v]]),M=t=>(c("data-v-29d9cc96"),t=t(),f(),t),b={class:"inputBar"},S=M(()=>d("h1",null,"This is an inputBar page",-1)),w={class:"verity-box"},I={__name:"InputBarView",setup(t){const e=m(Math.floor(Math.random()*1e4).toString()),o=()=>{e.value=Math.floor(Math.random()*1e4).toString()};return(a,i)=>(s(),l("div",b,[S,h(_,{modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=n=>e.value=n)},null,8,["modelValue"]),d("div",w,[h(C,{identifyCode:e.value,onClickpicEmit:o},null,8,["identifyCode"])])]))}},V=u(I,[["__scopeId","data-v-29d9cc96"]]);export{V as default};
